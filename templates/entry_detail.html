{% extends "base.html" %}

{% block title %}æ—¥å¿—è¯¦æƒ…{% endblock %}

{% block content %}
<div class="entry-detail">
    <nav class="nav-bar">
        <a href="/" class="back-btn">â€¹ è¿”å›</a>
        <h1>æ—¥å¿—è¯¦æƒ…</h1>
        <div class="nav-actions">
            <button class="icon-btn" id="saveBtn" title="ä¿å­˜">ä¿å­˜</button>
            <button class="icon-btn" id="deleteBtn" title="åˆ é™¤">åˆ é™¤</button>
            <button class="icon-btn" id="exportBtn" title="å¯¼å‡º">â†—</button>
        </div>
    </nav>
    
    <div class="entry-form">
        <form id="entryForm">
            <div class="form-group">
                <label for="title">æ ‡é¢˜</label>
                <input type="text" id="title" name="title" placeholder="è¯·è¾“å…¥æ ‡é¢˜" required>
            </div>
            <div class="form-group">
                <label for="date">æ—¥æœŸ</label>
                <input type="date" id="date" name="date" required>
            </div>
            <div class="form-group">
                <label for="content">å†…å®¹</label>
                <textarea id="content" name="content" rows="10" placeholder="è¯·è¾“å…¥å†…å®¹" required></textarea>
            </div>
        </form>
        
        <div class="native-app-links" id="nativeAppLinks" style="display: none;">
            <div class="link-group">
                <button class="native-link-btn" id="openCalendarBtn">
                    <span class="link-icon">ğŸ“…</span>
                    <span>åœ¨æ—¥å†ä¸­æ‰“å¼€</span>
                </button>
                <button class="native-link-btn" id="openNotesBtn">
                    <span class="link-icon">ğŸ“</span>
                    <span>åœ¨å¤‡å¿˜å½•ä¸­æ‰“å¼€</span>
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
const entryId = {{ entry_id if entry_id else 'null' }};
</script>
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
<script src="{{ url_for('static', filename='js/components/entry_detail.js') }}"></script>
{% endblock %}

