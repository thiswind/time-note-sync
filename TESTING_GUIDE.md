# 浏览器测试指南

## 服务状态

### 后端服务
- **URL**: http://localhost:5001
- **健康检查**: http://localhost:5001/health
- **状态**: 运行中

### 前端服务
- **URL**: http://localhost:3000 (根据 vite.config.js 配置)
- **状态**: 运行中

## 测试步骤

### 1. 访问应用
1. 在浏览器中打开：http://localhost:3000
2. 应该看到登录页面

### 2. 登录测试
**测试用户**（如果已创建）：
- 用户名: `testuser`
- 密码: `testpass`

**如果没有测试用户，先创建**：
```bash
cd backend
conda activate base
python init_db.py
```

### 3. 功能测试清单

#### ✅ 用户故事 1: 创建和管理日志条目
- [ ] 创建新日志条目
  - 点击"+"按钮
  - 输入标题（可选）
  - 输入内容（必填）
  - 选择日期
  - 点击保存
  - 验证：条目出现在列表中

- [ ] 编辑日志条目
  - 点击列表中的条目
  - 修改标题或内容
  - 点击保存
  - 验证：更改已保存

- [ ] 删除日志条目
  - 打开条目详情
  - 点击"删除"按钮
  - 确认删除
  - 验证：条目从列表中消失

#### ✅ 用户故事 2: 按日期浏览
- [ ] 查看"全部"标签
  - 切换到"全部"标签
  - 验证：显示所有条目

- [ ] 查看"今天"标签
  - 切换到"今天"标签
  - 验证：只显示今天的条目

- [ ] 使用日期选择器
  - 切换到"日期"标签
  - 点击日期显示区域
  - 选择特定日期
  - 验证：只显示该日期的条目

- [ ] 日期导航
  - 使用左右箭头按钮
  - 验证：日期正确切换，条目正确显示

#### ✅ 用户故事 3: 日历同步（功能已实现，需要 CalDAV 服务器配置）
- [ ] 查看同步设置
  - 进入"设置"页面
  - 查看"日历同步设置"
  - 验证：可以启用/禁用同步

- [ ] 手动同步（需要 CalDAV 配置）
  - 启用日历同步
  - 输入 CalDAV 凭据
  - 点击"手动同步日历"
  - 验证：同步操作执行

#### ✅ 用户故事 4: 导出到备忘录
- [ ] 单条导出
  - 打开一个日志条目
  - 点击"导出到备忘录"按钮
  - 验证：生成 Shortcuts URL（在 iPhone 上会打开 Shortcuts）

- [ ] 批量导出（功能已实现，UI 待完善）
  - 选择多个条目
  - 点击批量导出
  - 验证：生成包含所有条目的 Shortcuts URL

#### ✅ 用户故事 5: 快速访问原生应用
- [ ] 打开日历
  - 在条目详情页
  - 点击"在日历中打开"按钮
  - 验证：尝试打开日历应用（在 iPhone 上）

- [ ] 打开备忘录
  - 在条目详情页
  - 点击"打开备忘录"按钮
  - 验证：尝试打开备忘录应用（在 iPhone 上）

### 4. UI/UX 验证
- [ ] iOS 风格设计
  - 验证：字体使用 iOS 系统字体
  - 验证：背景色为 iOS 系统背景色（#f2f2f7）
  - 验证：组件样式符合 iOS 设计规范

- [ ] 响应式设计
  - 验证：在不同屏幕尺寸下正常显示
  - 验证：触摸操作流畅

### 5. 安全验证
- [ ] 未登录访问
  - 尝试直接访问 http://localhost:3000/entry
  - 验证：重定向到登录页

- [ ] 输入验证
  - 尝试输入超长标题（>200字符）
  - 验证：显示错误提示

- [ ] 空内容验证
  - 尝试创建没有内容的条目
  - 验证：显示错误提示

### 6. 性能验证
- [ ] 页面加载速度
  - 验证：首页加载时间 < 2秒

- [ ] 操作响应速度
  - 验证：创建条目响应时间 < 1秒
  - 验证：列表加载时间 < 1秒

## 已知问题

1. **CalDAV 同步**：需要配置实际的 CalDAV 服务器才能完全测试
2. **原生应用跳转**：在桌面浏览器中无法测试，需要在 iPhone Safari 中测试
3. **Shortcuts 导出**：需要 iPhone 上安装并配置相应的 Shortcut

## 测试结果记录

请在测试时记录：
- ✅ 通过的功能
- ❌ 失败的功能
- ⚠️ 需要改进的地方
- 📝 其他观察

## 停止服务

测试完成后，停止服务：
```bash
# 停止后端（Ctrl+C 或查找进程）
# 停止前端（Ctrl+C 或查找进程）
```

